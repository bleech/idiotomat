<html>
  <head>
    <title>Idiotomat</title>
    <link href='http://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/global.css">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="description" content="Der Idiotomat – Bekannt aus Circus HalliGalli">
  </head>
  <body>
    <section class="toolbar">
      <div class="wrapper">
        <div class="logo fll"><img src="img/logo.png" /></div>
        <div class="bleech flr">
          <a href="http://bleech.de" target="_blank"><img src="img/bleech-logo.png" /></a>
        </div>
      </div>
    </section>

    <section class="teaser">
      <div class="wrapper">
        <div class="alert">Dein Browser wird noch nicht unterstützt. Bitte verwende <a href="http://google.com/chrome">Chrome</a>.</div>
        <ul class="instructions">
          <li>kopfhörer anschließen</li>
          <li><button class="start" onclick="toggleAudio()" type="button">Starten</button></li>
          <li>zugriff zum mikrofon zulassen</li>
          <li>sprich mit jemandem</li>
        </ul>
      </div>
    </section>

    <section class="advice">
      <div class="wrapper">
        <h1 class="advice">– Bekannt aus <a href="http://www.prosieben.de/tv/circus-halligalli/videos/unnoetig-kompliziertes-interview-atze-schroeder-clip" target="_blank">Circus HalliGalli</a> –<br/>Für das Web von <a href="http://bleech.de" target="_blank">bleech</a></h1>

        <div class="fb-like" data-href="http://idiom.at/" data-width="The pixel width of the plugin" data-height="The pixel height of the plugin" data-colorscheme="light" data-layout="box_count" data-action="like" data-show-faces="true" data-send="false"></div>
      </div>
    </section>

    <script>

      var startButton = document.querySelector('.start');
      var isRunning = false;

      if (window.webkitAudioContext) {
        var context = new webkitAudioContext();
        var mediaStreamSource;

        var delay = context.createDelay();
        var delayGain = context.createGain();

        delay.delayTime.value = 0.2;
        delay.connect(delayGain);

        delayGain.connect(context.destination);

        function toggleAudio () {
          if (isRunning) {
            mediaStreamSource.disconnect();
            startButton.innerHTML = 'Starten';
            isRunning = false;
          } else {
            isRunning = true;
            navigator.webkitGetUserMedia({audio:true},function(stream) {
              mediaStreamSource = context.createMediaStreamSource(stream);
              mediaStreamSource.connect(delay);
              startButton.innerHTML = 'Stoppen';
            });
          }

        }
      } else {
        document.querySelector('.alert').style.display = 'block';
        document.querySelector('.instructions').style.display = 'none';
        startButton.style.display = 'none';
      }

    </script>

    <!-- AddThis Smart Layers BEGIN -->
    <!-- Go to http://www.addthis.com/get/smart-layers to customize -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52589b7044c2a29b"></script>
    <script type="text/javascript">
      addthis.layers({
        'theme' : 'transparent',
        'share' : {
          'position' : 'left',
          'numPreferredServices' : 4
        },
        'whatsnext' : {}
      });
    </script>
    <!-- AddThis Smart Layers END -->

    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/de_DE/all.js#xfbml=1&appId=540780529328065";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>

  </body>
</html>
